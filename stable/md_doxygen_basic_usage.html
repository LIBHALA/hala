<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HALA: Handy Accelerated Linear Algebra v1.0: Basic Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hala.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
    <div class="doxygen">
            <a href="http://www.doxygen.org/index.html">
                <img class="footer" src="doxygen.png" alt="doxygen"/>
                </a> 1.8.13
    </div>
   <div id="projectname">HALA: Handy Accelerated Linear Algebra v1.0
   <!--         <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
 -->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doxygen_basic_usage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Basic Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>HALA consists of C++ headers only and heavily uses templates. The recommended use case for the library is through CMake install or <code>add_subdirectory()</code>; however, the individual modules can be included separately.</p>
<h3>CMake Usage</h3>
<p>The core headers containing the BLAS, LAPACK, and sparse templates (both CPU and GPU versions) are accessed though the main header: </p><div class="fragment"><div class="line">#include &quot;hala.hpp&quot;</div></div><!-- fragment --><p> The <code><a class="el" href="hala_8h.html" title="Alias to the main HALA header. ">hala.h</a></code> header is also included as an alias to <code><a class="el" href="hala_8hpp.html" title="HALA main header. ">hala.hpp</a></code>. In addition those modules, HALA offers several extras that reside in separate headers to limit the clutter:</p>
<p><b>The solvers</b> module provides implementation of several sparse linear solvers, use the header </p><div class="fragment"><div class="line">#include &quot;hala_solvers.hpp&quot;</div></div><!-- fragment --><p> The solvers are implemented using the core functionality and offer overloads for the appropriate GPU backend. Currently, the provided solvers are the Gauss-Sciedel (GS), Conjugate-Gradient (CG), and General Minimum RESsidual (GMRES) with Arnoidi iteration. The two Krylov solvers also use the incomplete lower-upper (ILU) preconditioner.</p>
<p><b>The Cholmod</b> module provides wrappers around the direct sparse solvers of the Cholmod library </p><div class="fragment"><div class="line">#include &quot;hala_cholmod.hpp&quot; // note that this requires HALA_ENABLE_CHOLMOD=ON in CMake</div></div><!-- fragment --><p> Unlike the rest of HALA, the Cholmod wrappers work only in double precision real values and do not come with strictly GPU variants (although Cholmod may use an Nvidia GPU in the background). Single precision real algorithm or the GPU implementation is simply not provided. Nevertheless, Cholmod offers very efficient solvers that can compete with GPU accelerated CG and GMRES.</p>
<p><b>Advanced vectorization extensions</b> are specialized instruction available in most CPU chips that allow for multiple floating point operations to be performed with a single instruction. Those extensions are particularly powerful when working with complex numbers where each addition or multiplication translates to multiple operation. HALA provides a module that implements packed variables that consist of several real or complex numbers an can be manipulated with regular arithmetic operators: </p><div class="fragment"><div class="line">#include &quot;hala_vex.hpp&quot;</div></div><!-- fragment --><p> The wrappers use the 128-bit SSE2 and SSE3 instruction sets, the 256-bit AVX, and the 512-bit AXV512 standards.</p>
<p>Including all of HALA would look like this: </p><div class="fragment"><div class="line">#include &quot;hala.hpp&quot;</div><div class="line">#include &quot;hala_solvers.hpp&quot;</div><div class="line">#include &quot;hala_cholmod.hpp&quot;</div><div class="line">#include &quot;hala_vex.hpp&quot;</div></div><!-- fragment --><p> The extra modules are kept in separate headers to reduce potential conflicts and minimize repeated processing of long headers when those are included in multiple project files.</p>
<h3>Writing the Code</h3>
<p>All templates reside in the namespace <code>hala</code>. Including the entire space is feasible since the most obvious conflict names use double prefix, e.g., <code><a class="el" href="group__HALACTYPES.html#ga2150d29d12084dfd095bb69ff6d0f56f" title="Returns the conjugate of a number, note that the returned type always matches x. ">hala::cconj</a></code> and <code><a class="el" href="group__HALABLAS1.html#ga199fd708ca4ff8b2c65b6ee47491b37d" title="Wrapper to BLAS xcopy() methods. ">hala::vcopy</a></code>, but this is probably not desirable since many of the short BLAS and LAPACK names can easily create conflicts:</p>
<ul>
<li>Should probably work: <div class="fragment"><div class="line">#include &quot;hala.hpp&quot;</div><div class="line">using namespace hala;</div><div class="line"></div><div class="line">vcopy(x, y);</div><div class="line">axpy(1.0, x, y);</div></div><!-- fragment --></li>
<li>Preferred safer way: <div class="fragment"><div class="line">#include &quot;hala.hpp&quot;</div><div class="line"></div><div class="line">hala::vcopy(x, y);</div><div class="line">hala::axpy(-1.0, x, y);</div></div><!-- fragment --></li>
</ul>
<p>See the included examples for algorithms implemented using the HALA templates.</p>
<h3>Using Individual Modules without CMake</h3>
<p>HALA consists of only headers and templates and CMake is used only to find library dependencies and to simplify management of the compiler flags. If the user handles manually the necessary includes and flags, the individual modules can be added one at a time. The modules should also be added in the correct order: </p><div class="fragment"><div class="line">// everything uses the common, vex and wax modules</div><div class="line">// everything needs &lt;hala-source&gt;/common/, &lt;hala-source&gt;/vex/ and &lt;hala-source&gt;/wax/</div><div class="line">#include &quot;hala_blas.hpp&quot;                // needs &lt;hala-source&gt;/blas/</div><div class="line">#include &quot;hala_lapack.hpp&quot;              // needs &lt;hala-source&gt;/lapack/</div><div class="line">#include &quot;hala_sparse.hpp&quot;              // needs &lt;hala-source&gt;/sparse/</div><div class="line"></div><div class="line">#define HALA_ENABLE_CUDA or HALA_ENABLE_ROCM</div><div class="line">#include &quot;hala_gpu.hpp&quot;                 // needs &lt;hala-source&gt;/gpu/</div><div class="line"></div><div class="line">#include &quot;hala_wrapped_extensions.hpp&quot;  // needs &lt;hala-source&gt;/wax/</div><div class="line"></div><div class="line">// additional capabilities</div><div class="line">#include &quot;hala_cholmod.hpp&quot;  // needs &lt;hala-source&gt;/hex/cholmod/</div><div class="line">#include &quot;hala_solvers.hpp&quot;  // needs &lt;hala-source&gt;/hex/solvers/</div><div class="line">#include &quot;hala_vex.hpp&quot;      // needs &lt;hala-source&gt;/hex/vex/</div></div><!-- fragment --><ul>
<li><code><a class="el" href="hala__gpu_8hpp.html" title="HALA wrapper for GPU functions. ">hala_gpu.hpp</a></code> requires either <code>HALA_ENABLE_CUDA</code> or <code>HALA_ENABLE_ROCM</code> defined prior to including the file</li>
<li><code><a class="el" href="hala__wrapped__extensions_8hpp_source.html">hala_wrapped_extensions.hpp</a></code> is equivalent to <code><a class="el" href="hala_8hpp.html" title="HALA main header. ">hala.hpp</a></code> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<!-- <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<!--  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div> -->
</body>
</html>
