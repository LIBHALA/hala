<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HALA: Handy Accelerated Linear Algebra v1.0: HALA BLAS Wrapper Templates</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hala.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
    <div class="doxygen">
            <a href="http://www.doxygen.org/index.html">
                <img class="footer" src="doxygen.png" alt="doxygen"/>
                </a> 1.8.13
    </div>
   <div id="projectname">HALA: Handy Accelerated Linear Algebra v1.0
   <!--         <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
 -->
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__HALABLAS.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">HALA BLAS Wrapper Templates</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for HALA BLAS Wrapper Templates:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__HALABLAS.png" border="0" alt="" usemap="#group____HALABLAS"/>
<map name="group____HALABLAS" id="group____HALABLAS">
<area shape="rect" id="node1" href="group__HALABLAS1.html" title="BLAS level 1 templates" alt="" coords="267,5,425,32"/>
<area shape="rect" id="node2" href="group__HALABLAS2.html" title="BLAS level 2 templates" alt="" coords="267,56,425,83"/>
<area shape="rect" id="node3" href="group__HALABLAS3.html" title="BLAS level 3 templates" alt="" coords="267,107,425,133"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__HALABLAS1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HALABLAS1.html">BLAS level 1 templates</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__HALABLAS2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HALABLAS2.html">BLAS level 2 templates</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__HALABLAS3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HALABLAS3.html">BLAS level 3 templates</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:hala__blas_8hpp"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hala__blas_8hpp.html">hala_blas.hpp</a></td></tr>
<tr class="memdesc:hala__blas_8hpp"><td class="mdescLeft">&#160;</td><td class="mdescRight">HALA wrapper for all BLAS functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section user"><dt>HALA BLAS Wrapper Templates</dt><dd>A set of templates that wrap around BLAS functions allowing for (near) seamless integration with C++ containers such as <b>std::vector</b> and <b>std::valarray</b>. The wrappers assume meaningful defaults for increments and leading dimensions and in some cases the sizes are inferred automatically from the sizes of the vectors. The methods can be called with either BLAS standard order of parameters, or with overloads that push all defaults to the end of the calls.</dd></dl>
<dl class="section user"><dt>Naming Convention</dt><dd>The template names match the BLAS naming without the precision characters, e.g., dgemm(), sgemm(), cgemm() and zgemm() are all called with <a class="el" href="group__HALABLAS3.html#gae98fae51e118dc3682284a5d001cd946" title="Wrapper to BLAS general matrix multiply xgemm(). ">gemm()</a>. The Hermitian and symmetric variants are lumped into single wrappers that accepts an extra template parameter indicating whether to use the Hermitian or just symmetric call. The default is always set to Hermitian mode, which is more natural for complex numbers and doesn't affect the real case. See also hala::non_conj.</dd></dl>
<dl class="section user"><dt>Vectors and Scalars</dt><dd>The type for the vector entries must be compatible with either float, double, std::complex&lt;float&gt; and std::complex&lt;double&gt;, see <a class="el" href="group__HALACTYPES.html">Custom Type Definitions</a>.<ul>
<li>if multiple vectors are passed to a single call, all types must be compatible</li>
<li>if the call accepts scalars, those will be automatically cast-ed to the vector scalar type and no warning would be issue regarding precision (the vectors determine the precision, the scalars have to be converted anyway and no conversion would result in loss of precision)</li>
<li>out-of-the-box HALA works and is tested with std::vector and std::valarray, vectors that closely match the <b>STL</b> conventions are also compatible, see <a class="el" href="group__HALACUSTOM.html">HALA Support for Custom Vector Class</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Leading Dimensions, Increments and Sizes</dt><dd>Most BLAS functions can be called with custom leading matrix dimensions and vector increments, e.g., the <b>lda</b> and <b>incx</b> in the calls to <a class="el" href="group__HALABLAS2.html#ga925bf0c14261ed419bb931e85658f6eb" title="Wrapper to BLAS general matrix-vector multiply xgemv(). ">hala::gemv</a>. HALA assumes default values for all such parameters; <b>incx</b> is set to 1 which implies that the vectors are contiguous and the <b>lda</b> dimensions default to -1 which tells HALA to assume the minimum value permissible in the context, i.e., there is no padding and the matrix is not embedded in a larger one.<ul>
<li>if the number of entries is inferred from the vector size with <b>incx</b> &gt; 1, there is no check if the size divides evenly</li>
<li>if multiple vectors are passed in the call, the size is determined by the first vector, e.g., in the call to <a class="el" href="group__HALABLAS1.html#ga0dff938a94c75c58427ede241c05429b" title="Wrapper to BLAS vector scaled addition xaxpy(). ">hala::axpy()</a> the size is inferred from <b>x</b> and if the vector <b>y</b> contains extra entries, those would be ignored</li>
<li>sizes cannot be inferred from raw-arrays, any array is assumed to have the sufficient size for whatever operation, but since the arrays don't <b>know</b> the size, this assumption cannot be verified and incorrect size will result in non-informative segfault error</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Resizing</dt><dd>Some BLAS calls (depending on inputs) have pure output variables, e.g., calling <a class="el" href="group__HALABLAS2.html#ga925bf0c14261ed419bb931e85658f6eb" title="Wrapper to BLAS general matrix-vector multiply xgemv(). ">hala::gemv()</a> with <b>beta</b> equal to 0 will ignore all values stored in <b>y</b>; therefore, there is no need to have a hard requirement on the size of <b>y</b>. If HALA detects a case of a variable acting as a <em>pure</em> <em>output</em> and if the current size is insufficient to store the result, then HALA will make an attempt to resize the vector. The attempt may raise a std::runtime_error() if the vector cannot be resized, e.g., <a class="el" href="group__HALACPUENGINE.html#ga1754bbdc7b056afb54044fc35bd4d015" title="Create an array wrapper for the corresponding engine. ">hala::wrap_array()</a>, or if the resize method is not <em>registered</em> with the proper specialization defined in <a class="el" href="group__HALACUSTOM.html">HALA Support for Custom Vector Class</a>.</dd></dl>
<dl class="section user"><dt>Errors Handling:</dt><dd>Negative increments, small leading dimensions, and incorrect vector size will result in failed <b>assert()</b> calls, i.e., using the <b>casset</b> macro. All assertions are disabled if <b>NDEBUG</b> variable is defined, except the sizes of the <b>pure</b> <b>output</b> variables discussed in the <b>Resizing</b> section (the resizing requires a runtime check and cannot be disabled).</dd></dl>
<dl class="section user"><dt>Engine overloads</dt><dd>In addition to the overloads with default parameters, the HALA BLAS module adds overloads that accept a <a class="el" href="structhala_1_1cpu__engine.html" title="The CPU Engine. ">hala::cpu_engine</a> class. While the engine does not change anything about the calls, it allows for a seamless switch between BLAS and cuBlas/rocBlas implementations by simply changing the engine (also, when using <a class="el" href="structhala_1_1gpu__engine.html" title="Core engine class, deals with handles and data transfer. ">hala::gpu_engine</a>, all vector data must reside in GPU memory).</dd></dl>
<dl class="section user"><dt>BLAS Assumptions:</dt><dd><ul>
<li>There is no explicit initialization of BLAS, i.e., there is no blas_init() call.</li>
<li>The functions follow the standard API, i.e., there is no need for a specialized header.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Matrix Format Types</dt><dd>The BLAS standard defined several matrix formats:<ul>
<li>General, always in column major format.</li>
<li>Banded, for example \( A = \left( \begin{array}{ccc} 1 &amp; 0 &amp; 0 \\ 2 &amp; 3 &amp; 0 \\ 0 &amp; 4 &amp; 5 \end{array} \right) \) has dimension 3 but band kl = 1 and ku = 0 (one diagonal below the main is used), the vector storing <b>A</b> will have the format \( A = ( 1, 3, 5, 0, 2, 4 ) \).</li>
<li>Symmetric \( A = \left( \begin{array}{cc} 1 &amp; 2 + i \\ 2 + i &amp; 4 \end{array} \right) \) and Hermitian \( A = \left( \begin{array}{cc} 1 &amp; 2 - i \\ 2 + i &amp; 4 \end{array} \right) \), note that HALA always defaults to conjugate-symmetric Hermitian mode, see hala::non_conj.</li>
<li>Triangular \( A = \left( \begin{array}{cc} 1 &amp; 2 + i \\ 0 &amp; 4 \end{array} \right) \), i.e., everything either below or above the diagonal is zero.</li>
<li>Packed, triangular matrices that have only the lower/upper part stored, e.g., \( A = \left( \begin{array}{cc} 1 &amp; 2 \\ 0 &amp; 4 \end{array} \right) \) is packed into a vector \( A = ( 1, 2, 4 ) \) for <b>uplo</b> L.</li>
</ul>
</dd></dl>
<p>Note that when working with symmetric matrices, only the portion above or below diagonal is accessed, thus symmetric matrices can also be stored in packed format. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<!-- <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<!--  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div> -->
</body>
</html>
